import { Meta, Unstyled, Markdown } from '@storybook/blocks';
import { getReviewBlock } from '../../../.storybook/utils/documentation/review-block';

{/* Update the lastReview value in YYYY-MM-DD format when this page is reviewed */}
export const lastReview = '2024-12-06';

<Meta title="Design/Typography" />

export const sampleText =
    'Lorem ipsum dolor sit amet, consectetur adipiscing elit';
export const sampleCaption = 'Lorem ipsum dolor sit amet';

{/* These are copied here manually so that the docs page can display the mobile and desktop sizes simultaneously */}

export const mobileSizes = {
    h1: '2rem',
    h2: '1.688rem',
    h3: '1.313rem',
    h4: '1.25rem',
    h5: '1.188rem',
    h6: '1.188rem',
    p: '1rem',
    small: '0.8rem',
};

export const desktopSizes = {
    h1: '3rem',
    h2: '2.25rem',
    h3: '1.625rem',
    h4: '1.375rem',
    h5: '1.188rem',
    h6: '1.188rem',
    p: '1rem',
    small: '0.8rem',
};
export const headingSizes = {
    h1: '3rem',
    h2: '2.25rem',
    h3: '1.5rem',
};

export const generateTypesetCanvas = (
    sizes,
    sampleCaption,
    sampleText,
    mobile,
    type = null
) => {
    return (
        <Unstyled>
            {/* Loop through array of tags and sizes and build a Typeset canvas. */}
            {/* We're doing this instead of just inheriting the styles so that */}
            {/* the mobile sizes are visible without changing screensize */}
            {Object.entries(sizes).map(([tag, rem], loop) => {
                const key = `${loop}-typeset`;
                // Add margin to body as this isn't included in the body mixin
                const bodyMarginTop = `margin-top:${mobile ? '1.25rem' : '0.938rem'}`;
                const sample =
                    type === 'heading-with-captions'
                        ? `<hgroup><${tag} style="font-size:${rem}"><p className="caption">${sampleCaption}</p>${sampleText}</${tag}></hgroup>`
                        : `<${tag} style="font-size:${rem};${tag === 'p' ? bodyMarginTop : ''}">${sampleText}</${tag}>`;
                return (
                    <div
                        key={key}
                        style={{
                            display: 'flex',
                            wordBreak: 'break-word',
                            gap: '5%',
                        }}
                    >
                        <div
                            style={{ flex: '0 0 10%', alignContent: 'center' }}
                        >
                            <div>
                                <p>
                                    <strong>{tag}</strong>
                                </p>
                                <p>{rem}</p>
                            </div>
                        </div>
                        <div>
                            <Markdown>{sample}</Markdown>
                        </div>
                    </div>
                );
            })}
        </Unstyled>
    );
};

# Typography

To add or change a font go to `public/app/frontend/style.scss` and update the appropriate mixin or add a new mixin.

Update the typesets in `public/app/frontend/documentation/design/Typography.mdx` to include the new font sizes.

---

**Headings:** Georgia

**Body:** Arial

**Weights:** 400 (regular), 700 (bold)

<br />
## Mobile
{generateTypesetCanvas(mobileSizes, sampleCaption, sampleText, true, 'typeset')}
<br />
## Desktop
{generateTypesetCanvas(
    desktopSizes,
    sampleCaption,
    sampleText,
    false,
    'typeset'
)}
<br />
## Headings with captions
{generateTypesetCanvas(
    headingSizes,
    sampleCaption,
    sampleText,
    false,
    'heading-with-captions'
)}

> {getReviewBlock(lastReview)}
@use 'sass:map';
@import '../../../style';

.navigation-main {
    background: var(--justice-primary-black);

    &__container {
        @include container;
    }

    &__list {
        display: flex;
        flex-direction: column;
        width: 100%;
        @media screen and (min-width: $justice-lg) {
            flex-direction: row;

            // Have a negative margin equal to the padding spacing so the text is visually inline with the container element but so the focus highlight still has padding
            margin-left: calc(map.get($spacing-units-desktop, 2) * -1);
        }
    }

    &__link {
        position: relative;
        border-top: 1px var(--justice-border) solid;
        @media screen and (min-width: $justice-lg) {
            border-top: none;
            border-left: 1px var(--justice-border) solid;
        }

        a {
            @include link('light');
            @include spacing('padding', 2, 'top');
            @include spacing('padding', 2, 'bottom');

            display: block;
            font-family: var(--heading-font);
            @media screen and (min-width: $justice-lg) {
                @include spacing('padding', 1, 'top');
                @include spacing('padding', 1, 'bottom');
                @include spacing('padding', 2, 'left');
                @include spacing('padding', 2, 'right');
            }
        }

        &:first-child,
        &:focus-within,
        &:focus-within + li {
            border: none;
        }

        // Add triangle indicator to active links
        &--active {
            &::after {
                content: '';
                position: absolute;
                left: 0;
                right: 0;
                margin-left: auto;
                margin-right: auto;
                width: 0;
                height: 0;
                border-left: 6px solid transparent;
                border-right: 6px solid transparent;
                border-top: 6px solid var(--justice-primary-black);
            }

            &:focus-within {
                &::after {
                    border-top: 6px solid var(--gds-yellow);
                }
            }
        }
    }
}
